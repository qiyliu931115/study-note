AOF append-on-file 追加文件 （默认关闭）
---
每一个写命令都会记录在AOF文件，可以看作命令日志文件

![img_5.png](img_5.png)

aof默认关闭，修改redis.conf文件

    #开启AOF 默认no
    appendonly yes

    #文件名
    appendfilename "appendonly.aof"

    #执行每一次写命令，立即记录到AOF文件(主进程执行)
    appendfsync always

    #写命令执行完后 放入AOF缓冲区，每隔一秒讲缓冲区数据写入AOF文件，默认方案
    appendfsync everysec

    #写命令执行完后 放入AOF缓冲区，由操作系统决定何时讲缓冲区数据写入AOF文件
    appendfsync no

AOF是刷盘策略和MySQL的redo.log刷盘策略很像

区别是AOF是记录写命令 ，redo是记录数据页（表空间号+数据页号+偏移量+修改数据长度+具体修改的数据）