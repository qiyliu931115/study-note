offset存放位置
---
从0.9版本开始

consumer默认将offset存储在Kafka内置的一个topic中

该topic为

    _consumer_offsets

![img_93.png](img_93.png)

_consumer_offsets 采用key-value形式

key是group.id + topic + partition （消费者组id+主题+分区）

value是当前的offset

每隔一段时间 Kafka会对这个topic进行compact压缩， 

也就是每个group.id + topic + partition就保留最新数据

![img_95.png](img_95.png)

查看consumer_offsets
---

![img_96.png](img_96.png)