早期的全文检索会为整个文档集合建立一个很大的倒排索引并将其写入到磁盘。 一旦

新的索引就绪，旧的就会被其替换，这样最近的变化便可以被检索到。

倒排索引被写入磁盘后是 不可改变 的:它永远不会修改。

不变性有重要的价值：

    不需要锁。如果你从来不更新索引，你就不需要担心多进程同时修改数据的问题。
    
    一旦索引被读入内核的文件系统缓存，便会留在哪里，由于其不变性。只要文件系统缓存中还有足够
    的空间，那么大部分读请求会直接请求内存，而不会命中磁盘。这提供了很大的性能提升。
    
    其它缓存(像 filter 缓存)，在索引的生命周期内始终有效。它们不需要在每次数据改变时被重建，因为
    数据不会变化。
    
    写入单个大的倒排索引允许数据被压缩，减少磁盘 I/O 和 需要被缓存到内存的索引的使用量。

当然，一个不变的索引也有不好的地方。主要事实是它是不可变的! 你不能修改它。如

果你需要让一个新的文档 可被搜索，你需要重建整个索引。这要么对一个索引所能包含的

数据量造成了很大的限制，要么对索引可被更新的频率造成了很大的限制。