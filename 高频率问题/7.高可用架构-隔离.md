为什么要隔离
---

隔离是为了在系统发生故障时能限定传播范围

和影响范围，不会出现滚雪球效应

线程隔离
---

两个重要接口

一个接口请求量大，占用了另一个线程的资源

就可以采用线程隔离 两个接口做两个线程池，来处理请求

进程隔离
---

一个服务是一个进程 我们将不同业务拆分 进行微服务划分

就是所谓的进程隔离

集群隔离
---

监控集群，并将错误的实例剔除，将请求负载均衡到其他可用的实例

机房隔离
---

例如用CDN内容分发网络。路由到用户最近的机房。

读写隔离
---

对数据的读操作和写操作进行隔离

比如说MYSQL的主从配置，主数据库进行写操作，从数据库进行读操作

动静隔离
---

比如商品销售中，商品的图片，描述等静态资料。

我们需要需要把这些数据（静态资源）放到CDN避免直接访问数据库。

冷热隔离
---

对于热点数据和非热点数据的处理

比如热点数据可以放在redis,本地内存，nginx中。

爬虫隔离
---

爬虫隔离可以在Nginx中进行如下配置。

    set $flag "0";
    if ($http_user_agent ~* "spider") {
    set $flag "1";
    }
    if ($flag == "0") {
    //代理到正常集群
    }
    if ($flag == "1") {
    //代理到爬虫集群
    }
